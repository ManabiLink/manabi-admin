# GitHub Copilot 用 プロンプト集

目的: GitHub Copilot（コード補完 / コード生成）に対して一貫した出力を得るための日本語プロンプトテンプレート集です。

使い方:

- 欲しい作業（バグ修正、機能追加、リファクタ、テスト作成など）に合わせてテンプレートをコピーし、必要情報を埋めて Copilot に貼り付けてください。

---

## 1. 共通の前提（必ず最初に伝える）

- あなたの役割: "あなたは熟練したソフトウェアエンジニアです。読みやすく保守しやすいコードを書いてください。"
- 言語: 日本語で指示を与え、出力はコード部分をそのまま、作業説明は日本語で簡潔に。必要に応じて英語コメント可。
- コードスタイル: このリポジトリの既存スタイルに合わせる（Next.js / React の慣習、ESLint に準拠）。短い関数、意味のある変数名を優先。
- 技術について: Next.js, React, Supabase を利用。TypeScript は使わない。
- 出力形式: 変更するファイル名を列挙し、差分（あるいはフルファイル）で返す。追加の説明は短めに。

---

## 2. プロンプトテンプレート（使い分け）

- バグ修正 / 不具合調査

```plaintext
コンテキスト: {ファイルパスや関数名、再現手順など}
タスク: 上記の不具合を修正してください。
要件:
 - 既存の API/関数の契約を変えない。
 - テストがある場合は既存テストを壊さない。
 出力: 変更するファイルの差分（または修正済みファイル全体）と、短い説明（原因と対策）を書いてください。
```

- 機能追加

```plaintext
コンテキスト: {目的・背景, 既存の関連ファイル}
タスク: {詳細な機能仕様}
制約:
 - 互換性を保つこと
 - パフォーマンス上の注意点（必要なら）
 出力: 追加/更新するファイルリスト、変更点の差分、簡潔な導入手順、必要なテストの例。
```

- リファクタリング

```plaintext
コンテキスト: {対象ファイル/関数と目的（例: 可読性向上、重複削除）}
タスク: 安全にリファクタリングして、既存の動作を保つようにしてください。
要件: 小さな変更単位で示し、各変更でのテスト手順を提示すること。
出力: 変更差分とリスク、テスト手順。
```

---

## 3. 出力に関する細かいルール

- ファイルパスはバックテックで囲む（例: `app/page.js`）。
- 可能なら差分形式（patch）で示す。差分が難しい場合は修正後のフルファイルを出す。
- 変更の理由を1-3行で必ず説明する。
- セキュリティや個人情報に関わる変更は明示し、デフォルトで安全側に寄せる。

---

## 4. 例 — バグ修正の簡単なプロンプト

```plaintext
コンテキスト: `app/article/page.js` のレンダリングでエラーが出ています。ブラウザコンソールでは "TypeError: posts.map is not a function" が出ています。
タスク: 上記の原因を特定して修正してください。`posts` が配列でない可能性があります。
要件: 既存の API を壊さず、null/undefined に対しても安全にレンダリングするようにしてください。
出力: 修正したファイルの差分と、修正内容の短い説明。
```

---

## 5. 禁止 / 注意事項

- 人種差別的、攻撃的、違法なコードや手順の提示は求めないでください。
- 大量の機密データをプロンプトに直接貼り付けないでください（トークン漏洩リスク）。

---

## 6. 追加: コミットメッセージのテンプレ

- フォーマット: `<type>(<scope>): <summary>` 例: `fix(article): handle null posts in article page`
- type: `feat` / `fix` / `chore` / `refactor` / `test` など